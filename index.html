<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <title>减肥打卡助手</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <div class="app-title-group">
          <h1>减肥打卡助手</h1>
          <p class="subtitle">记录体重 · 看见趋势 · 获得激励</p>
        </div>

        <div class="user-bar">
          <div class="user-select-group">
            <label for="userSelect">当前用户</label>
            <div class="user-select-row">
              <select id="userSelect"></select>
              <button id="addUserBtn">新建用户</button>
            </div>
          </div>
          <div class="goal-input">
            <label for="goalWeight">目标体重 (kg)</label>
            <div class="goal-input-row">
              <input
                id="goalWeight"
                type="number"
                step="0.1"
                min="20"
                max="300"
                placeholder="例如：55"
              />
              <button id="saveGoalBtn">保存目标</button>
            </div>
            <div class="goal-input-row">
              <input
                id="heightInput"
                type="number"
                step="0.1"
                min="80"
                max="250"
                placeholder="身高(cm) 例如：165"
              />
              <button id="saveHeightBtn">保存身高</button>
            </div>
          </div>
        </div>
      </header>

      <main class="app-main">
        <section class="card input-card">
          <h2>今日打卡</h2>
          <form id="recordForm" class="record-form">
            <div class="form-row">
              <label for="date">日期</label>
              <input id="date" type="date" required />
            </div>
            <div class="form-row">
              <label for="weight">体重 (kg)</label>
              <input
                id="weight"
                type="number"
                step="0.1"
                min="20"
                max="300"
                required
                placeholder="例如：60.5"
              />
            </div>
            <div class="form-row">
              <label for="note">备注（可选）</label>
              <input
                id="note"
                type="text"
                maxlength="60"
                placeholder="例如：今天多喝了水 / 晚上有运动"
              />
            </div>
            <button type="submit" class="primary-btn">保存打卡</button>
          </form>
          <p id="motivationText" class="motivation-text"></p>
        </section>

        <section class="stats-grid">
          <div class="card stat-card">
            <h3>当前体重</h3>
            <p class="stat-main" id="currentWeight">--</p>
            <p class="stat-sub" id="weightChange">较昨日：--</p>
          </div>
          <div class="card stat-card">
            <h3>累计变化</h3>
            <p class="stat-main" id="totalChange">--</p>
            <p class="stat-sub" id="startWeight">起始体重：--</p>
          </div>
          <div class="card stat-card">
            <h3>最近 7 天</h3>
            <p class="stat-main" id="recentAvg">均值：--</p>
            <p class="stat-sub" id="trendText">趋势：--</p>
          </div>
          <div class="card stat-card">
            <h3>目标进度</h3>
            <p class="stat-main" id="goalProgress">--</p>
            <p class="stat-sub" id="goalEstimate">预估达成时间：--</p>
          </div>
          <div class="card stat-card">
            <h3>当前 BMI</h3>
            <p class="stat-main" id="bmiValue">--</p>
            <p class="stat-sub" id="bmiStatus">需要身高与最新体重</p>
          </div>
        </section>

        <section class="card chart-card">
          <div class="chart-header">
            <h2>体重趋势</h2>
            <div class="chart-range">
              <button data-range="7" class="range-btn active">7 天</button>
              <button data-range="30" class="range-btn">30 天</button>
              <button data-range="all" class="range-btn">全部</button>
            </div>
          </div>
          <canvas id="weightChart" width="800" height="260"></canvas>
          <p class="chart-tip">提示：数据较少时，趋势线可能不明显，坚持记录更重要。</p>
        </section>

        <section class="card table-card">
          <div class="table-header">
            <h2>打卡记录</h2>
            <button id="clearAllBtn" class="danger-btn">清空全部数据</button>
          </div>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th><input type="checkbox" id="selectAll" /></th>
                  <th>日期</th>
                  <th>体重 (kg)</th>
                  <th>相对前一日</th>
                  <th>备注</th>
                </tr>
              </thead>
              <tbody id="recordsBody"></tbody>
            </table>
          </div>
          <div class="table-actions">
            <button id="deleteSelectedBtn" class="danger-btn">删除所选</button>
          </div>
        </section>
      </main>

      <footer class="app-footer">
        <p>💪 每一次认真称重、每一次如实记录，都是在向更好的自己迈进。</p>
      </footer>
    </div>

    <script src="./script.js"></script>
  </body>
</html>



